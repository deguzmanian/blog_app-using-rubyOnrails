<!DOCTYPE html>
<html lang="en">
    <head>
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>
        <title>Blog</title>

        <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
        <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
        </head>
    <body>
        <% if logged_in? %>
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark text-white">
            <div class="col-9">
                <h3>BLOG</h3>
            </div>
            <div class="col-3">
                <div class="form-inline float-right">
                    <div id="logout">
                        <i class="fa fa-sign-out"></i>&nbsp;<%= link_to 'Logout', 'logout', method: :get %>
                    </div>
                </div>
            </div>
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                    <div class="sb-sidenav-menu">
                        <div class="nav">
                            <div class="sb-sidenav-menu-heading">Core</div>
                                <%= link_to 'Home', welcome_path, class: 'nav-link'%>
                            <div class="sb-sidenav-menu-heading">Articles</div>
                                <%= link_to 'Article List', articles_path, class: 'nav-link'%>
                                <%= link_to 'Publish New Article', new_article_path, class: 'nav-link'%>
                        </div>
                    </div>
                    <div class="sb-sidenav-footer">
                        <div class="small">Logged in as:</div>
                        <%= current_user.fname ? current_user.fname : current_user.username %>
                    </div>
                </nav>
            </div>
            <% end %>
            <div id="layoutSidenav_content">
                <main>
                <%= yield %>
                </main>
            </div>
        </div>
    </body>
</html>